/* theme.css — EIN Dark-Mode (Light bleibt unverändert)
   Wirkung aktiv, sobald <html data-theme="dark"> gesetzt ist.
   Benötigte Assets (relativ zum Projekt):
   - bg-dark.jpg         → Hero (nur im Dark-Mode)
   - about-dark.png      → About (nur im Dark-Mode)
*/

/* ====================
   Design‑Tokens (Dark)
   ==================== */
   :root[data-theme="dark"]{
    /* Flächen & Text */
    --page:#0b1020;           /* Seitenhintergrund */
    --text:#e6edf6;           /* Grundtext */
    --muted:#9fb0c3;          /* Sekundärtext */
  
    /* Akzent / Verläufe (optional, falls im Light genutzt) */
    --pill:#5b8dff;
    --pill-2:#8fb1ff;
    --ring:rgba(91,141,255,.26);
  
    /* Schatten */
    --shadow:0 16px 40px rgba(0,0,0,.35);
  }
  
  /* System UI (Form Controls etc.) */
  :root[data-theme="dark"]{ color-scheme: dark; }
  
  /* Grundfläche & Text */
  :root[data-theme="dark"] body{
    background:var(--page);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    transition: background .25s ease, color .25s ease;
  }
  
  /* Links (generisch) */
  :root[data-theme="dark"] a{ color:#cfe0ff; }
  :root[data-theme="dark"] a:hover{ color:#e6f0ff; }
  
  /* =================
     Header / Navbar
     ================= */
  :root[data-theme="dark"] header{
  background: transparent;
  box-shadow: none;
}



  :root[data-theme="dark"] .menu a{ color:#c9d5e2; }
  :root[data-theme="dark"] .menu a.active{ box-shadow:0 0 0 6px var(--ring); }
  :root[data-theme="dark"] .sun{ box-shadow:0 0 0 6px var(--ring); }
  

/* =============
  HERO (Dark)
  ============= */
:root[data-theme="dark"] .hero{
  /* getrennt festlegen – sicherer als die shorthand "background:" */
  background-color: #0e1526;
  background-image: url('./assets/backgrounds/bg-dark.jpg'); /* Pfad hier prüfen! */
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
}

  /* Dark-Variante für den Parallax-Vordergrund */
:root[data-theme="dark"] .parallax-min .layer.fg{
  /* Achtung: Web-Pfad mit Schrägstrichen, nicht Backslashes */
  background-image: url('./assets/clouds-blue.svg');

  /* Optional: gleiche Größe/Position wie im Light-Mode spiegeln */
  /* Falls du im Light-Mode z. B. 180% nutzt, hier übernehmen: */
  /* background-size: 180% auto; */
  background-position: center 38%;
}


  :root[data-theme="dark"] .hero .title,
  :root[data-theme="dark"] .hero .subtitle{ color:var(--text); }
  
  /* ==============
     ABOUT (Dark)
     ============== */
  :root[data-theme="dark"] #about{
    /* Ersetze durch reine Farbe, falls kein eigenes About-Bild gewünscht: background:#0e1526; */
    background:#0e1526 url('about-dark.png') center/cover no-repeat;
  }
  :root[data-theme="dark"] .aboutTitle{ color:#e6edf6; }
  :root[data-theme="dark"] .aboutSub{ color:var(--pill); }
  :root[data-theme="dark"] .aboutText{ color:var(--muted); }
  
  /* =================
     Tech / Badges
     ================= */
  :root[data-theme="dark"] .tech{
    background:#111a2b;
    border:1px solid rgba(255,255,255,.06);
    box-shadow:0 6px 18px rgba(0,0,0,.25);
  }
  :root[data-theme="dark"] .techLabel{ color:#d7e1ee; }
  
  /* =================
     Services
     ================= */
  :root[data-theme="dark"] #services{ background:#0e1524; }
  :root[data-theme="dark"] .svcCard{
    background:#101a2b;
    border:1px solid rgba(255,255,255,.07);
    box-shadow:0 10px 26px rgba(0,0,0,.35);
    color:#d2dceb;
  }
  :root[data-theme="dark"] .svcCard p{ color:#c4d0e0; }
  
  /* =================
     Projects
     ================= */
  :root[data-theme="dark"] #projects{ background:#0b1020; }
  :root[data-theme="dark"] .projCard{
    background:#0f1728;
    border:1px solid rgba(255,255,255,.07);
    box-shadow:0 10px 26px rgba(0,0,0,.35);
    color:#d2dceb;
  }
  :root[data-theme="dark"] .projThumb{ background:#0b111c; }
  :root[data-theme="dark"] .projDesc{ color:#c6d2e1; }
  :root[data-theme="dark"] .tag{
    background:#121b2a;
    border-color:rgba(255,255,255,.09);
    color:#c9d5e2;
  }
  
  /* =================
     Contact
  ================= */
  :root[data-theme="dark"] #contact{ background:#0e1524; }
  :root[data-theme="dark"] .contactTitle{ color:#e6edf6; }
  :root[data-theme="dark"] .contactSub{ color:var(--pill); }
  :root[data-theme="dark"] .contactLead{ color:#98a9bc; }
  :root[data-theme="dark"] .field input,
  :root[data-theme="dark"] .field textarea{
    background:#1a2336;
    color:#e8f0fa;
    border-color:rgba(255,255,255,.08);
  }
  :root[data-theme="dark"] .field input::placeholder,
  :root[data-theme="dark"] .field textarea::placeholder{ color:#9bb0c6; }
  
  /* =================
     Footer
     ================= */
  :root[data-theme="dark"] footer{
    background:#0f1626;
    color:#9fb0c3;
    border-top:1px solid rgba(255,255,255,.08);
  }
  
  /* =================
     Buttons / Icons
     ================= */
  :root[data-theme="dark"] .btn{ box-shadow:var(--shadow); }
  :root[data-theme="dark"] .btnGhost{
    background:#0f1728;
    color:#e6edf6;
    border-color:rgba(255,255,255,.12);
  }
  :root[data-theme="dark"] .icon{ filter:saturate(1.05) brightness(1.08); }

:root[data-theme="dark"] #jobs{ background:#0e1524; }
:root[data-theme="dark"] .job{
  background:#101a2b;
  border:1px solid rgba(255,255,255,.07);
  box-shadow:0 10px 26px rgba(0,0,0,.35);
  color:#d2dceb;
}
:root[data-theme="dark"] .job .job-meta{ color:#9fb0c3; }



/* === My Jobs (Layout & Cards) === */
#jobs{ align-items:start; background:#f4f6fb; }
#jobs .inner{
  max-width: var(--maxw, 1100px);
  margin: 0 auto;
  padding: calc(var(--header-h, 72px) + 32px) clamp(16px,3vw,40px) 88px;
}
.jobsTitle{ text-align:center; margin:0 0 26px; font-size: clamp(28px, 3.6vw, 48px); font-weight: 900; }
.jobsSub{ color: var(--pill, #4f7df0); font-weight: 800; font-size: clamp(20px, 2.2vw, 28px); margin: 12px 0 22px; text-align:center; }

.jobsList{ display:grid; gap:18px; }
.job{
  background:#fff; border:1px solid rgba(0,0,0,.06);
  border-radius:16px; padding:18px 20px;
  box-shadow:0 1px 0 rgba(0,0,0,.03), 0 14px 26px rgba(0,0,0,.06);
  cursor:pointer; transition:transform .2s ease, background .2s ease;
}
.job:hover{ transform: translateY(-1px); background:#fff; }
.job-head{ display:flex; flex-wrap:wrap; gap:.5rem; align-items:center; justify-content:space-between; }
.job-title{ display:flex; gap:.5rem; align-items:center; font-weight:800; }
.job-title .logo{ width:42px; height:42px; border-radius:.5rem; object-fit:cover; background:#e9eef7; display:inline-block; }
.job-meta{ color:#6b7b8b; font-size:.9rem; }
/* Smooth expand/collapse */
.job-detail{
  margin-top:.75rem;
  overflow:hidden;
  max-height:0;
  opacity:0;
  transform: translateY(-4px);
  transition: max-height .35s ease, opacity .25s ease, transform .35s ease;
}
.job.open .job-detail{
  /* Für reine CSS-Variante: ausreichend große Obergrenze wählen */
  max-height: 800px;
  opacity:1;
  transform: translateY(0);
}

/* Optional: offener Card-State etwas „gehobener“ aussehen lassen */
.job{ transition: transform .2s ease, background .2s ease, box-shadow .25s ease, border-color .25s ease; }
.job.open{ box-shadow:0 12px 30px rgba(0,0,0,.10); border-color:rgba(0,0,0,.08); }

/* Respektiere Nutzer, die reduzierte Bewegung wünschen */
@media (prefers-reduced-motion: reduce){
  .job-detail{ transition: none; }
  .job{ transition:none; }
}

.job ul{ margin:.5rem 0 0 1.25rem; }
.job a{ color: var(--pill, #4f7df0); text-decoration: none; }
.job a:hover{ text-decoration: underline; }

/* Dark-Mode */
:root[data-theme="dark"] #jobs{ background:#0e1524; }
:root[data-theme="dark"] .job{
  background:#101a2b;
  border:1px solid rgba(255,255,255,.07);
  box-shadow:0 10px 26px rgba(0,0,0,.35);
  color:#d2dceb;
}
:root[data-theme="dark"] .job .job-meta{ color:#9fb0c3; }
:root[data-theme="dark"] .job-title .logo{ background:#0b1220; }
:root[data-theme="dark"] .job a{ color:#7aa2ff; }


/* Educations: gleiche Optik wie Jobs */
#edu{ align-items:start; background:#f4f6fb; }
:root[data-theme="dark"] #edu{ background:#0e1524; }


/* Logo-Swap je nach Theme */
.job-title .logo.light,
.job-title .logo.dark{
  width:42px; height:42px; border-radius:.5rem; object-fit:cover; display:inline-block;
}

/* Standard: Light-Logo sichtbar, Dark-Logo versteckt */
.job-title .logo.dark{ display:none; }

/* Dark-Mode: Switch */
:root[data-theme="dark"] .job-title .logo.light{ display:none; }
:root[data-theme="dark"] .job-title .logo.dark{ display:inline-block; }


/* CTA unter Projects */
.projects-cta{
  display:flex;
  justify-content:center;
  margin-top: 18px;
}

/* Button: kompakt, rund, Theme-Farben */
.btn.see-more{
  display:inline-flex; align-items:center; justify-content:center;
  padding: 10px 18px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--pill, #4f7df0), var(--pill-2, #7aa2ff));
  color:#fff; text-decoration:none; font-weight: 800;
  box-shadow: 0 0 0 6px var(--ring, rgba(79,125,240,.28));
  transition: transform .15s ease, box-shadow .2s ease, opacity .2s ease;
}
.btn.see-more:hover{ transform: translateY(-1px); opacity:.95; }
.btn.see-more:active{ transform: translateY(0); }

/* ===== Theme Toggle (Lucide + Motion-ähnlicher Effekt) ===== */
.mode-toggle{
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  border: 0;
  box-shadow: none;
  -webkit-tap-highlight-color: transparent; /* Safari/Chrome Tap-Highlight aus */
  outline: none;

  width: 28px;
  height: 28px;
  border-radius: 9999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  flex-shrink: 0;
  transition: transform .15s ease, opacity .2s ease;
}

.mode-toggle:focus,
.mode-toggle:active,
.mode-toggle:focus-visible{
  outline: none;
  box-shadow: none;
  background: transparent;
}

.menu .mode-toggle{
  background: transparent !important;
  box-shadow: none !important;
}

.mode-toggle::-moz-focus-inner{ border: 0; } /* Firefox-Kante */


.mode-toggle:active{ transform:scale(.96); }

/* Dark Variant wie im neuen Projekt */
html[data-theme="dark"] .mode-toggle{
  background:transparent;
  border:0;
  box-shadow:none;
}


/* Icons stapeln + Motion-ähnliches Ein-/Ausblenden */
.mode-toggle .icon{
  position:absolute; width:1.5rem; height:1.5rem;
  transition:opacity .30s ease, transform .30s ease;
  color:#1b2735; /* sichtbare Linie im Light */
  box-shadow: none !important;
  background: transparent !important;
  pointer-events: none; /* nie Fokus aufs SVG selbst */

}
html[data-theme="dark"] .mode-toggle .icon{ color:#e6edf6; }

/* Sichtbarkeit/Slide-Effekt */
.mode-toggle .sun{ opacity:1; transform:translateY(0); }
.mode-toggle .moon{ opacity:0; transform:translateY(-10px); }
html[data-theme="dark"] .mode-toggle .sun{ opacity:0; transform:translateY(10px); }
html[data-theme="dark"] .mode-toggle .moon{ opacity:1; transform:translateY(0); }

/* A11y helper */
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden;
  clip:rect(0,0,0,0); border:0; white-space:nowrap;
}

/* === Contact Popup === */
.popup{
  position: fixed; inset: 0;
  display: grid; place-items: center;
  pointer-events: none; opacity: 0;
  transition: opacity .25s ease;
  z-index: 9999;
}
.popup.is-open{ opacity: 1; pointer-events: auto; }

.popup__backdrop{
  position: absolute; inset: 0;
  backdrop-filter: blur(6px) saturate(1.1);
  background: rgba(0,0,0,.12);
}

:root[data-theme="dark"] .popup__backdrop{
  background: rgba(0,0,0,.35);
}

.popup__card{
  position: relative;
  width: min(92vw, 500px);
  border-radius: 20px;
  padding: 18px 18px 18px 16px;
  background: var(--surface, #ffffff);
  color: var(--text, #0e1320);
  box-shadow: 0 40px 70px rgba(0,0,0,.25), 0 4px 14px rgba(0,0,0,.18);
  transform: scale(.94) translateY(6px);
  opacity: 0;
  animation: pop-enter .28s cubic-bezier(.2,.7,.2,1) forwards;
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 14px;
}

:root[data-theme="dark"] .popup__card{
  background: #0f1626;
  color: #e6edf6;
  box-shadow: 0 40px 70px rgba(0,0,0,.6), 0 4px 14px rgba(0,0,0,.5);
}

.popup__icon{
  display: grid; place-items: center;
  color: var(--accent, #2b8cff);
  width: 36px; height: 36px;
}

.popup__content h3{
  margin: 2px 0 4px; font-size: 1.05rem; font-weight: 700;
}
.popup__content p{
  margin: 0; opacity: .9; line-height: 1.35;
}

.popup__close{
  align-self: start;
  width: 28px; height: 28px;
  border-radius: 999px; border: none;
  background: transparent; color: inherit; font-size: 20px;
  line-height: 1; cursor: pointer;
  transition: transform .15s ease, background .15s ease, opacity .15s ease;
  opacity: .8;
}
.popup__close:hover{ transform: scale(1.08); background: rgba(0,0,0,.06); opacity: 1; }
:root[data-theme="dark"] .popup__close:hover{ background: rgba(255,255,255,.06); }

@keyframes pop-enter{
  from{ transform: scale(.94) translateY(6px); opacity: 0; }
  to  { transform: scale(1) translateY(0);    opacity: 1; }
}

/* optional: leichter „pulse“ Glow um das Icon */
.popup__icon::after{
  content:""; position:absolute; inset:auto;
}

/* === FORCE LEFT RAIL ON DESKTOP === */
:root{
  --rail: clamp(126px, 15vw, 198px); /* linker/rechter Seiten-Gutter */
  --textw: 1680px;                 /* max Breite deiner Intro-Textspalte */
}

/* Hero-Container soll NICHT zentrieren, sondern volle Breite nutzen */
.heroInner{
  max-width: none !important;
  width: 100% !important;
  margin: 0 !important;
  padding-left: var(--rail) !important;
  padding-right: var(--rail) !important;

  /* Links die Textspalte (fixe Maxbreite), rechts der Rest */
  display: grid !important;
  grid-template-columns: minmax(0, var(--textw)) 1fr !important;
  justify-items: start !important;  /* Inhalt in Zellen links halten */
}

/* Sicherheitsnetz: alle direkten Kinder im Grid links ankern */
.heroInner > *{
  justify-self: start !important;
  text-align: left !important;
}

/* Die eigentliche Intro-Spalte: Breite begrenzen, nicht zentrieren */
.intro{
  max-width: var(--textw) !important;
  margin: 0 !important;
  text-align: left !important;
}

/* Falls ein übergeordneter Wrapper den Hero zentriert: entkoppeln */
.hero, .hero > .wrap, .hero > .container{
  max-width: none !important;
  margin: 0 !important;
  width: 100% !important;
}

/* Mobile bleibt 1-spaltig – die Rail bleibt gleich */
@media (max-width: 900px){
  .heroInner{
    grid-template-columns: 1fr !important;
  }
}
